# Stage One (abstract submission)

* we have 468 patients up until March, 2023
* exclusion criteria (1. patients with afib prior to index stroke; 2. patients with no follow-up hospital visits after index stroke)
* we extracted features including demographic data (age and gender), medical comorbidities (history of hypertension, history of heart failure, history of diabetes, etc.), lab records (cholesterol, hemoglobin, glucose, red and white blood cell count, etc.), radiographic reports (electrocardiogram and echocardiogram), and other common risk factors (smoking and obesity)
* we performed external validation of HAVOC and Brown ESUS-AF risk scores
* we built machine learning tree-based models including random forest classifier, extremely randomized trees classifier, gradient boosting classifier, and histogram gradient boosting classifier

# Stage Two

* we have 510 patients up until December, 2023
* study period: from 2010-01-01 to 2023-12-13 (earliest and latest index stroke event is 2015-11-01 and 2023-08-25; earliest and latest afib event is 2016-09-22 and 2023-11-14) 
* exclusion criteria (1. patients with afib prior to index stroke; 2. patients with other stroke history within five years prior to index stroke identified in the study period)
* we extracted features including demographic data (age, gender, height, weight), lab records (cholesterol, hemoglobin, glucose, red and white blood cell count, etc.), radiographic reports (electrocardiogram and echocardiogram), and other common risk factors (obesity)
* we extracted dummy variables from medical comorbidities history (2876) and prescribed medicines history (1293) (different from stage one)
* we converted those dummy variables into dimension = 32 embedding vector via unsupervised deepwalk and autoencoder methods
* we plan to convert those dummy variables into dimension = 32 embedding vector via supervised hypergraph model
* we plan to build similar machine learning tree-based models
* we plan to perform similar external validation of HAVOC and Brown ESUS-AF risk scores

# Progress Update

* we are currently in stage two
* feature extraction is nearly complete, except for smoking and hypergraph model emebedding vector
* next step is modeling and external validation

# Current Challenges

* smoking information is available in currently pulled cdw flowsheet data, but it is flawed (only 180 out of 510 patients have this data recorded) (Rob has confirmed that cdw did not do a good job in recording smoking information)
* smoking information is available in epic data but it has not been pulled yet (Rob said that he needs a few days to work on it) (hopefully the data is high quality)
* smoking shall be a prevalent information, but it is not ideal if we have to go into the clinical notes freetext to extract it
* if many patients do not have available smoking information, then there is a trade-off between including the feature and excluding it due to noise
